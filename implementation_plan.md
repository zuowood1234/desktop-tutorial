# A股短线交易助手 - 实施计划

## 阶段一：MVP 原型验证 (已完成)
- [x] **环境准备**：安装 Python, AkShare, DeepSeek SDK。
- [x] **核心脚本**：编写 `main.py` 实现行情抓取 + AI 分析。
- [x] **用户验证**：用户配置 API Key 并成功运行脚本，确认建议质量。

## 阶段二 (调整)：网页可视化 (Streamlit) (Current)
- [ ] **搭建前端**：使用 Streamlit 快速搭建 Web 界面。
- [ ] **功能模块**：
    - **持仓看板**：展示当前持仓及今日 AI 建议。
    - **添加持仓**：表单录入新股票。
    - **K线图展示**：直观展示股票走势。

## 阶段三：数据持久化 (Supabase)
- [ ] **数据库设计**：
    - `users` (虽然是单用户，但预留扩展)
    - `positions` (持仓表：代码、成本、股数、建仓日)
    - `quotes` (行情快照：用于回测)
    - `advice_history` (AI建议历史：建议内容、时间、次日验证结果)
- [ ] **连接数据库**：配置 Supabase Python 客户端。
- [ ] **改造脚本**：
    - 从数据库读取持仓，而不是每次手动输入。
    - 将 AI 的建议和当天的行情存入数据库。

## 阶段四：回测系统开发
- [ ] **历史数据获取**：编写批量抓取脚本，获取过去 60 天的日线数据。
- [ ] **回测引擎**：
    - 模拟“过去每一天”申请 AI 建议。
    - 计算 T+1 日收益率。
    - 生成回测报告（胜率、盈亏比）。
- [ ] **结果存储**：将回测结果存入数据库。
- [ ] **回测中心UI**：在网页上选择股票进行回测并展示资金曲线图。
